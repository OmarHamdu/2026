<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KINGS TECH OS | V6.0 Ultimate</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg-dark: #020617;
            --glass-bg: rgba(15, 23, 42, 0.7);
            --glass-border: rgba(255, 255, 255, 0.08);
            --primary: #3b82f6;
            --accent: #f59e0b;
            --text: #f1f5f9;
            --text-muted: #94a3b8;
            --success: #10b981;
            --danger: #ef4444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; }
        
        body { 
            background-color: var(--bg-dark); 
            background-image: 
                radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(245, 158, 11, 0.1) 0px, transparent 50%);
            color: var(--text); 
            display: flex; 
            min-height: 100vh; 
            overflow: hidden; 
        }

        /* --- Sidebar --- */
        .sidebar {
            width: 270px;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(20px);
            border-left: 1px solid var(--glass-border);
            padding: 20px;
            display: flex; flex-direction: column; gap: 10px;
            z-index: 100;
            overflow-y: auto;
        }

        .brand {
            font-size: 1.5rem; font-weight: 900; color: white;
            text-align: center; margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }
        .brand span { color: var(--primary); font-size: 0.8rem; display: block; letter-spacing: 1px; font-weight: normal; }

        .nav-section { font-size: 0.75rem; color: #475569; margin-top: 15px; font-weight: bold; padding-right: 10px; }

        .nav-btn {
            background: transparent; border: none; color: var(--text-muted);
            padding: 10px 15px; text-align: right; cursor: pointer; font-size: 0.95rem;
            border-radius: 8px; transition: 0.3s; display: flex; align-items: center; gap: 10px;
        }
        .nav-btn:hover, .nav-btn.active { background: rgba(59, 130, 246, 0.15); color: var(--primary); transform: translateX(-5px); border-right: 3px solid var(--primary); }

        /* --- Main Content --- */
        .main-content { flex: 1; padding: 30px; overflow-y: auto; height: 100vh; scroll-behavior: smooth; }
        
        .page { display: none; animation: fadeIn 0.4s ease; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h2 { font-size: 1.8rem; margin-bottom: 20px; color: white; display: flex; align-items: center; gap: 10px; }
        
        /* --- Cards & Grid --- */
        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 20px; }
        
        .col-span-12 { grid-column: span 12; }
        .col-span-6 { grid-column: span 6; }
        .col-span-4 { grid-column: span 4; }
        .col-span-8 { grid-column: span 8; }

        @media (max-width: 900px) {
            .col-span-6, .col-span-4, .col-span-8 { grid-column: span 12; }
        }
        
        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            padding: 20px; border-radius: 16px;
            transition: 0.3s;
            display: flex; flex-direction: column;
        }
        .card:hover { border-color: rgba(59, 130, 246, 0.3); transform: translateY(-2px); }

        .card-header { font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; color: var(--accent); display: flex; justify-content: space-between; align-items: center; }

        /* Inputs & Lists */
        input[type="text"], textarea, input[type="number"] {
            width: 100%; padding: 12px; background: rgba(0,0,0,0.4); border: 1px solid #334155;
            border-radius: 8px; color: white; margin-bottom: 10px; outline: none; transition: 0.3s;
        }
        input:focus { border-color: var(--primary); }

        .btn {
            background: var(--primary); color: white; border: none; padding: 6px 14px;
            border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.2s; font-size: 0.9rem;
        }
        .btn:active { transform: scale(0.95); }
        .btn-outline { background: transparent; border: 1px solid var(--primary); color: var(--primary); }
        .btn-outline:hover { background: var(--primary); color: white; }
        .btn-danger { background: var(--danger); color: white; }

        ul { list-style: none; flex: 1; }
        li {
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px; background: rgba(255,255,255,0.03); margin-bottom: 6px; border-radius: 6px;
            border-right: 3px solid transparent; transition: 0.2s;
        }
        li:hover { background: rgba(255,255,255,0.06); }
        li.checked { opacity: 0.6; text-decoration: line-through; border-right-color: var(--success); }
        
        .read-only-list li { cursor: pointer; }
        .read-only-list li:hover { background: rgba(59, 130, 246, 0.1); }
        .edit-link { font-size: 0.8rem; color: var(--text-muted); cursor: pointer; text-decoration: underline; }

        /* --- Adhkar & Spirituality --- */
        .adhkar-container { display: flex; flex-direction: column; gap: 15px; }
        .dhikr-card {
            background: rgba(15, 23, 42, 0.9); border: 1px solid #334155; padding: 20px; border-radius: 12px;
            position: relative; cursor: pointer; user-select: none; transition: 0.2s;
        }
        .dhikr-card:hover { border-color: var(--primary); }
        .dhikr-card:active { transform: scale(0.99); background: #1e293b; }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ø·ÙˆÙŠÙ„ Ù„Ù„Ø£Ø°ÙƒØ§Ø± */
        .dhikr-text { 
            font-size: 1.1rem; line-height: 1.8; margin-bottom: 15px; color: #e2e8f0; 
            text-align: justify; font-family: 'Cairo', sans-serif;
        }
        
        .dhikr-footer { display: flex; justify-content: space-between; align-items: center; font-size: 0.9rem; color: var(--text-muted); border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px; }
        .count-badge { background: var(--accent); color: black; padding: 4px 12px; border-radius: 15px; font-weight: bold; min-width: 40px; text-align: center; }
        
        .dhikr-card.done { opacity: 0.4; border-color: var(--success); pointer-events: none; }
        .dhikr-card.done .count-badge { background: var(--success); color: white; content: 'ØªÙ…'; }

    </style>
</head>
<body>

    <div class="sidebar" id="sidebar">
        <div class="brand">KINGS TECH <br><span>Life OS v6.0</span></div>
        
        <div class="nav-section">Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© (Ø§Ù„ØªÙ†ÙÙŠØ°)</div>
        <button class="nav-btn active" onclick="navTo('dashboard')"><i class="fas fa-th-large"></i> Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        
        <div class="nav-section">Ø§Ù„ØªØ®Ø·ÙŠØ· (Ø§Ù„ØªØ¹Ø¯ÙŠÙ„)</div>
        <button class="nav-btn" onclick="navTo('goal_yearly')"><i class="fas fa-star"></i> Ø£Ù‡Ø¯Ø§Ù 2026</button>
        <button class="nav-btn" onclick="navTo('goal_quarterly')"><i class="fas fa-calendar-alt"></i> Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø±Ø¨Ø¹ (Q1)</button>
        <button class="nav-btn" onclick="navTo('goal_monthly')"><i class="fas fa-calendar-day"></i> Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø´Ù‡Ø±</button>
        <button class="nav-btn" onclick="navTo('goal_weekly')"><i class="fas fa-calendar-week"></i> Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</button>
        <button class="nav-btn" onclick="navTo('habits')"><i class="fas fa-check-double"></i> Ø§Ù„Ø¹Ø§Ø¯Ø§Øª</button>

        <div class="nav-section">Ø£Ø®Ø±Ù‰</div>
        <button class="nav-btn" onclick="navTo('projects')"><i class="fas fa-project-diagram"></i> Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</button>
        <button class="nav-btn" onclick="navTo('adhkar')"><i class="fas fa-hands-praying"></i> Ø­ØµÙ† Ø§Ù„Ù…Ø³Ù„Ù…</button>
        <button class="nav-btn" onclick="navTo('spirituality')"><i class="fas fa-kaaba"></i> Ø§Ù„Ø®Ù„ÙˆØ© ÙˆØ§Ù„Ù…Ø³Ø¨Ø­Ø©</button>
    </div>

    <div class="main-content">
        
        <div id="dashboard" class="page active">
            <h2>ğŸ¯ Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© (Ø§Ù„ØªÙ†ÙÙŠØ°)</h2>
            <div class="dashboard-grid">
                <div class="card col-span-12" style="border-color: var(--accent); background: rgba(245, 158, 11, 0.05);">
                    <div class="card-header">
                        <span>â­ Ø£Ù‡Ø¯Ø§Ù 2026 Ø§Ù„ÙƒØ¨Ø±Ù‰</span>
                        <button class="btn btn-outline" onclick="navTo('goal_yearly')"><i class="fas fa-edit"></i> ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                    <ul id="list_dash_yearly" class="read-only-list"></ul>
                    <div id="empty_yearly" style="text-align:center; color:#64748b; font-size:0.9rem; display:none;">Ù„Ù… ØªØ¶Ù Ø£Ù‡Ø¯Ø§Ù Ø¨Ø¹Ø¯</div>
                </div>
                <div class="card col-span-6">
                    <div class="card-header"><span>ğŸ“… ØªØ±ÙƒÙŠØ² Ø§Ù„Ø´Ù‡Ø±</span> <span class="edit-link" onclick="navTo('goal_monthly')">ØªØ¹Ø¯ÙŠÙ„</span></div>
                    <ul id="list_dash_monthly" class="read-only-list"></ul>
                </div>
                <div class="card col-span-6">
                    <div class="card-header"><span>âš¡ Ù…Ù‡Ø§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</span> <span class="edit-link" onclick="navTo('goal_weekly')">ØªØ¹Ø¯ÙŠÙ„</span></div>
                    <ul id="list_dash_weekly" class="read-only-list"></ul>
                </div>
                <div class="card col-span-4">
                    <div class="card-header"><span>ğŸ“Š Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø±Ø¨Ø¹</span> <span class="edit-link" onclick="navTo('goal_quarterly')">ØªØ¹Ø¯ÙŠÙ„</span></div>
                    <ul id="list_dash_quarterly" class="read-only-list"></ul>
                </div>
                <div class="card col-span-8">
                    <div class="card-header"><span>âœ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ÙŠÙˆÙ…</span> <span class="edit-link" onclick="navTo('habits')">ØªØ¹Ø¯ÙŠÙ„</span></div>
                    <ul id="list_dash_habits" class="read-only-list"></ul>
                </div>
            </div>
        </div>

        <div id="goal_yearly" class="page">
            <h2>â­ ØªØ®Ø·ÙŠØ· 2026 (ØªØ¹Ø¯ÙŠÙ„)</h2>
            <div class="card">
                <div class="card-header">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø³Ù†ÙˆÙŠØ©</div>
                <div style="display:flex; gap:10px; margin-bottom:20px;">
                    <input type="text" id="in_page_yearly" placeholder="Ø£Ø¶Ù Ù‡Ø¯ÙØ§Ù‹ ÙƒØ¨ÙŠØ±Ø§Ù‹..." style="margin:0;">
                    <button class="btn" onclick="addItem('yearly', 'in_page_yearly')">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
                <ul id="list_page_yearly"></ul>
            </div>
        </div>

        <div id="goal_quarterly" class="page">
            <h2>ğŸ“Š ØªØ®Ø·ÙŠØ· Ø§Ù„Ø±Ø¨Ø¹ (Q1)</h2>
            <div class="card">
                <div class="card-header">Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù€ 90 ÙŠÙˆÙ…</div>
                <div style="display:flex; gap:10px; margin-bottom:20px;">
                    <input type="text" id="in_page_quarterly" placeholder="Ø£Ø¶Ù Ù‡Ø¯ÙØ§Ù‹..." style="margin:0;">
                    <button class="btn" onclick="addItem('quarterly', 'in_page_quarterly')">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
                <ul id="list_page_quarterly"></ul>
            </div>
        </div>

        <div id="goal_monthly" class="page">
            <h2>ğŸ“… ØªØ®Ø·ÙŠØ· Ø§Ù„Ø´Ù‡Ø±</h2>
            <div class="card">
                <div class="card-header">Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</div>
                <div style="display:flex; gap:10px; margin-bottom:20px;">
                    <input type="text" id="in_page_monthly" placeholder="Ø£Ø¶Ù Ù‡Ø¯ÙØ§Ù‹..." style="margin:0;">
                    <button class="btn" onclick="addItem('monthly', 'in_page_monthly')">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
                <ul id="list_page_monthly"></ul>
            </div>
        </div>

        <div id="goal_weekly" class="page">
            <h2>âš¡ ØªØ®Ø·ÙŠØ· Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</h2>
            <div class="card">
                <div class="card-header">Ù…Ù‡Ø§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</div>
                <div style="display:flex; gap:10px; margin-bottom:20px;">
                    <input type="text" id="in_page_weekly" placeholder="Ø£Ø¶Ù Ù…Ù‡Ù…Ø©..." style="margin:0;">
                    <button class="btn" onclick="addItem('weekly', 'in_page_weekly')">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
                <ul id="list_page_weekly"></ul>
            </div>
        </div>

        <div id="habits" class="page">
            <h2>âœ… Ø§Ù„Ø¹Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù†Ø¸Ø§Ù…</h2>
            <div class="grid-container">
                <div class="card">
                    <div class="card-header">Ø§Ù„Ø¹Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</div>
                    <div style="display:flex; gap:10px; margin-bottom:20px;">
                        <input type="text" id="in_page_habits" placeholder="Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©..." style="margin:0;">
                        <button class="btn" onclick="addItem('habits', 'in_page_habits')">Ø¥Ø¶Ø§ÙØ©</button>
                    </div>
                    <ul id="list_page_habits"></ul>
                </div>
                <div class="card" style="border-color:var(--danger)">
                    <div class="card-header" style="color:var(--danger)">â›” Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙˆÙ‚Ù</div>
                    <div style="display:flex; gap:10px; margin-bottom:20px;">
                        <input type="text" id="in_stop" placeholder="Ø³Ø£ØªÙˆÙ‚Ù Ø¹Ù†..." style="margin:0;">
                        <button class="btn" style="background:var(--danger)" onclick="addItem('stopList', 'in_stop')">Ø­Ø¸Ø±</button>
                    </div>
                    <ul id="list_stop"></ul>
                </div>
            </div>
        </div>

        <div id="adhkar" class="page">
            <h2>ğŸ“¿ Ø­ØµÙ† Ø§Ù„Ù…Ø³Ù„Ù…</h2>
            <div style="display:flex; gap:10px; margin-bottom:20px;">
                <button class="btn" onclick="renderAdhkar('morning')">ğŸŒ… Ø§Ù„ØµØ¨Ø§Ø­</button>
                <button class="btn" style="background:var(--accent); color:black;" onclick="renderAdhkar('evening')">ğŸŒ‡ Ø§Ù„Ù…Ø³Ø§Ø¡</button>
                <button class="btn" style="background:#4f46e5" onclick="renderAdhkar('sleep')">ğŸ’¤ Ø§Ù„Ù†ÙˆÙ…</button>
            </div>
            <div id="adhkarContainer" class="adhkar-container"></div>
        </div>

        <div id="spirituality" class="page">
            <h2>ğŸ•‹ Ø§Ù„Ø®Ù„ÙˆØ© ÙˆØ§Ù„Ù…Ø³Ø¨Ø­Ø©</h2>
            <div class="grid-container">
                <div class="card">
                    <div class="card-header">ğŸ“– Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ</div>
                    <div style="text-align:center;">
                        <p style="color:#ccc; margin-bottom:10px;">ÙˆØµÙ„Øª Ù„Ù„ØµÙØ­Ø© Ø±Ù‚Ù…:</p>
                        <input type="number" id="quranPage" oninput="saveData(this.value)" style="font-size:2rem; text-align:center; width:120px; margin:0 auto; display:block; border-color:var(--primary);" placeholder="0">
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">ğŸ§˜ Ø¬Ù„Ø³Ø© Ø§Ù„Ø®Ù„ÙˆØ©</div>
                    <div style="text-align:center;">
                        <div id="khulwaTimer" style="font-size:3rem; font-weight:bold; color:var(--primary); margin:10px 0; letter-spacing:2px;">00:00</div>
                        <button class="btn" id="khulwaBtn" onclick="toggleKhulwa()">Ø¨Ø¯Ø¡ Ø§Ù„Ø®Ù„ÙˆØ©</button>
                    </div>
                </div>

                <div class="card" style="text-align:center;">
                    <div class="card-header" style="justify-content:center">ğŸ“¿ Ø§Ù„Ù…Ø³Ø¨Ø­Ø©</div>
                    <div style="font-size:4rem; font-weight:bold; color:var(--accent); cursor:pointer; user-select:none; border:5px solid rgba(255,255,255,0.1); border-radius:50%; width:180px; height:180px; line-height:170px; margin:0 auto; transition:0.1s;" 
                         onclick="incMasbaha()" onmousedown="this.style.transform='scale(0.95)'" onmouseup="this.style.transform='scale(1)'" id="dhikrNum">0</div>
                    <p style="color:var(--text-muted); margin-top:15px;">Ø§Ø¶ØºØ· Ù„Ù„Ø¹Ø¯</p>
                    <div style="margin-top:20px; display:flex; gap:10px; justify-content:center;">
                        <button class="btn" onclick="saveXP()">Ø­ÙØ¸ (+XP)</button>
                        <button class="btn btn-danger" onclick="resetMasbaha()">ØªØµÙÙŠØ±</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ø®Ù…Ø³</div>
                    <div id="salahContainer"></div>
                </div>
            </div>
        </div>
        
        <div id="projects" class="page">
            <h2>ğŸš€ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ (Kanban)</h2>
            <div style="display:flex; gap:15px; overflow-x:auto; padding-bottom:10px;">
                <div style="flex:1; min-width:260px; background:rgba(255,255,255,0.05); padding:15px; border-radius:10px;">
                    <h3>ğŸ“‹ Ø£ÙÙƒØ§Ø±</h3><div id="kb_todo"></div><input id="kb_in" onkeypress="if(event.key=='Enter') addKB()" placeholder="+ Ù…Ø´Ø±ÙˆØ¹" style="margin-top:10px;">
                </div>
                <div style="flex:1; min-width:260px; background:rgba(59,130,246,0.1); padding:15px; border-radius:10px;">
                    <h3>ğŸ”¥ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°</h3><div id="kb_doing"></div>
                </div>
                <div style="flex:1; min-width:260px; background:rgba(16,185,129,0.1); padding:15px; border-radius:10px;">
                    <h3>âœ… ØªÙ…</h3><div id="kb_done"></div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- DATA STRUCTURE ---
        const defaultData = {
            yearly: [], quarterly: [], monthly: [], weekly: [], habits: [], stopList: [],
            salah: { fajr: false, dhuhr: false, asr: false, maghrib: false, isha: false },
            kanban: { todo: [], doing: [], done: [] },
            quranPage: 0, xp: 0
        };

        let data = JSON.parse(localStorage.getItem('kingsTechOS_v6')) || defaultData;
        if (typeof data.yearly === 'string') { data.yearly = [{text: data.yearly, checked: false}]; }

        window.onload = function() { refreshAll(); };
        function save() { localStorage.setItem('kingsTechOS_v6', JSON.stringify(data)); }

        // --- CORE ---
        function refreshAll() {
            renderList('yearly', 'list_dash_yearly', false);
            renderList('monthly', 'list_dash_monthly', false);
            renderList('weekly', 'list_dash_weekly', false);
            renderList('quarterly', 'list_dash_quarterly', false);
            renderList('habits', 'list_dash_habits', false);
            renderList('yearly', 'list_page_yearly', true);
            renderList('monthly', 'list_page_monthly', true);
            renderList('weekly', 'list_page_weekly', true);
            renderList('quarterly', 'list_page_quarterly', true);
            renderList('habits', 'list_page_habits', true);
            renderList('stopList', 'list_stop', true);
            document.getElementById('empty_yearly').style.display = data.yearly.length ? 'none' : 'block';
            document.getElementById('quranPage').value = data.quranPage || 0;
            renderKanban();
            renderSalah();
        }

        function addItem(key, inputId) { 
            const input = document.getElementById(inputId); if(!input.value) return;
            data[key].push({ text: input.value, checked: false });
            input.value = ""; save(); refreshAll();
        }
        function renderList(key, elementId, allowDelete) {
            const list = document.getElementById(elementId); if(!list) return; list.innerHTML = "";
            data[key].forEach((item, idx) => {
                const li = document.createElement('li'); if(item.checked) li.classList.add('checked');
                let del = allowDelete ? `<i class="fas fa-trash" onclick="deleteItem('${key}', ${idx})" style="color:var(--danger); cursor:pointer;"></i>` : '';
                li.innerHTML = `<div onclick="toggleCheck('${key}', ${idx})" style="cursor:pointer; flex:1; display:flex; align-items:center; gap:10px;"><i class="fas ${item.checked ? 'fa-check-circle' : 'fa-circle'}" style="color:${item.checked?'var(--success)':'#475569'}"></i><span>${item.text}</span></div>${del}`;
                list.appendChild(li);
            });
        }
        function toggleCheck(key, idx) { data[key][idx].checked = !data[key][idx].checked; save(); refreshAll(); }
        function deleteItem(key, idx) { data[key].splice(idx, 1); save(); refreshAll(); }
        function navTo(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            const btn = Array.from(document.querySelectorAll('.nav-btn')).find(b => b.getAttribute('onclick').includes(id));
            if(btn) btn.classList.add('active');
        }

        // --- SPIRITUALITY ---
        function saveData(val) { if(val) data.quranPage = val; save(); }
        let khulwaInterval, khulwaSeconds = 0;
        function toggleKhulwa() {
            const btn = document.getElementById('khulwaBtn');
            if(khulwaInterval) { clearInterval(khulwaInterval); khulwaInterval=null; btn.innerText="Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„Ø®Ù„ÙˆØ©"; } 
            else { btn.innerText="ØªÙˆÙ‚Ù Ù…Ø¤Ù‚Øª"; khulwaInterval = setInterval(() => { khulwaSeconds++; let mins = Math.floor(khulwaSeconds / 60).toString().padStart(2, '0'); let secs = (khulwaSeconds % 60).toString().padStart(2, '0'); document.getElementById('khulwaTimer').innerText = `${mins}:${secs}`; }, 1000); }
        }
        let mCount = 0;
        function incMasbaha() { mCount++; document.getElementById('dhikrNum').innerText = mCount; }
        function resetMasbaha() { mCount=0; document.getElementById('dhikrNum').innerText = 0; }
        function saveXP() { alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„ÙˆØ±Ø¯!"); resetMasbaha(); }

        // --- AUTHENTIC FULL ADHKAR ---
        const adhkarDB = {
            morning: [
                {t:"Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ§Ù„Ù„Ù‡Ù Ù…ÙÙ†Ù’ Ø§Ù„Ø´Ù‘ÙÙŠÙ’Ø·ÙØ§Ù†Ù Ø§Ù„Ø±Ù‘ÙØ¬ÙÙŠÙ…Ù (Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙ‘Ù Ø§Ù„Ù’Ù‚ÙÙŠÙ‘ÙÙˆÙ…Ù...)", c:1},
                {t:"Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù (Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø£ÙØ­ÙØ¯ÙŒ)ØŒ (Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨Ù‘Ù Ø§Ù„Ù’ÙÙÙ„ÙÙ‚Ù)ØŒ (Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨Ù‘Ù Ø§Ù„Ù†Ù‘ÙØ§Ø³Ù) (3 Ù…Ø±Ø§Øª)", c:3},
                {t:"Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ£ÙØµÙ’Ø¨ÙØ­Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„Ø§Ù Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„Ù‘Ù Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒØŒ Ø±ÙØ¨Ù‘Ù Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø®ÙÙŠÙ’Ø±Ù Ù…ÙØ§ ÙÙÙŠ Ù‡ÙØ°ÙØ§ Ø§Ù„Ù’ÙŠÙÙˆÙ’Ù…Ù ÙˆÙØ®ÙÙŠÙ’Ø±Ù Ù…ÙØ§ Ø¨ÙØ¹Ù’Ø¯ÙÙ‡ÙØŒ ÙˆÙØ£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø´ÙØ±Ù‘Ù Ù…ÙØ§ ÙÙÙŠ Ù‡ÙØ°ÙØ§ Ø§Ù„Ù’ÙŠÙÙˆÙ’Ù…Ù ÙˆÙØ´ÙØ±Ù‘Ù Ù…ÙØ§ Ø¨ÙØ¹Ù’Ø¯ÙÙ‡ÙØŒ Ø±ÙØ¨Ù‘Ù Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù Ø§Ù„Ù’ÙƒÙØ³ÙÙ„Ù ÙˆÙØ³ÙÙˆØ¡Ù Ø§Ù„Ù’ÙƒÙØ¨ÙØ±ÙØŒ Ø±ÙØ¨Ù‘Ù Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø¹ÙØ°ÙØ§Ø¨Ù ÙÙÙŠ Ø§Ù„Ù†Ù‘ÙØ§Ø±Ù ÙˆÙØ¹ÙØ°ÙØ§Ø¨Ù ÙÙÙŠ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ø±Ù", c:1},
                {t:"Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¨ÙÙƒÙ Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙØ­Ù’ÙŠÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙÙ…ÙÙˆØªÙ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’ÙƒÙ Ø§Ù„Ù†Ù‘ÙØ´ÙÙˆØ±Ù", c:1},
                {t:"(Ø³ÙŠØ¯ Ø§Ù„Ø§Ø³ØªØºÙØ§Ø±) Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø£ÙÙ†Ù’ØªÙ Ø±ÙØ¨Ù‘ÙÙŠ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø£ÙÙ†Ù’ØªÙØŒ Ø®ÙÙ„ÙÙ‚Ù’ØªÙÙ†ÙÙŠ ÙˆÙØ£ÙÙ†ÙØ§ Ø¹ÙØ¨Ù’Ø¯ÙÙƒÙØŒ ÙˆÙØ£ÙÙ†ÙØ§ Ø¹ÙÙ„ÙÙ‰ Ø¹ÙÙ‡Ù’Ø¯ÙÙƒÙ ÙˆÙÙˆÙØ¹Ù’Ø¯ÙÙƒÙ Ù…ÙØ§ Ø§Ø³Ù’ØªÙØ·ÙØ¹Ù’ØªÙØŒ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø´ÙØ±Ù‘Ù Ù…ÙØ§ ØµÙÙ†ÙØ¹Ù’ØªÙØŒ Ø£ÙØ¨ÙÙˆØ¡Ù Ù„ÙÙƒÙ Ø¨ÙÙ†ÙØ¹Ù’Ù…ÙØªÙÙƒÙ Ø¹ÙÙ„ÙÙŠÙ‘ÙØŒ ÙˆÙØ£ÙØ¨ÙÙˆØ¡Ù Ù„ÙÙƒÙ Ø¨ÙØ°ÙÙ†Ù’Ø¨ÙÙŠ ÙÙØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ ÙÙØ¥ÙÙ†Ù‘ÙÙ‡Ù Ù„Ø§Ù ÙŠÙØºÙ’ÙÙØ±Ù Ø§Ù„Ø°Ù‘ÙÙ†ÙÙˆØ¨Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø£ÙÙ†Ù’ØªÙ", c:1},
                {t:"Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ù‘ÙØ°ÙÙŠ Ù„Ø§Ù ÙŠÙØ¶ÙØ±Ù‘Ù Ù…ÙØ¹Ù Ø§Ø³Ù’Ù…ÙÙ‡Ù Ø´ÙÙŠÙ’Ø¡ÙŒ ÙÙÙŠ Ø§Ù„Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ„Ø§Ù ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§Ø¡Ù ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ø³Ù‘ÙÙ…ÙÙŠØ¹Ù Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙ…Ù (3 Ù…Ø±Ø§Øª)", c:3},
                {t:"Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù: Ø¹ÙØ¯ÙØ¯Ù Ø®ÙÙ„Ù’Ù‚ÙÙ‡ÙØŒ ÙˆÙØ±ÙØ¶ÙØ§ Ù†ÙÙÙ’Ø³ÙÙ‡ÙØŒ ÙˆÙØ²ÙÙ†ÙØ©Ù Ø¹ÙØ±Ù’Ø´ÙÙ‡ÙØŒ ÙˆÙÙ…ÙØ¯ÙØ§Ø¯Ù ÙƒÙÙ„ÙÙ…ÙØ§ØªÙÙ‡Ù (3 Ù…Ø±Ø§Øª)", c:3},
                {t:"Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¹ÙØ§ÙÙÙ†ÙÙŠ ÙÙÙŠ Ø¨ÙØ¯ÙÙ†ÙÙŠØŒ Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¹ÙØ§ÙÙÙ†ÙÙŠ ÙÙÙŠ Ø³ÙÙ…Ù’Ø¹ÙÙŠØŒ Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¹ÙØ§ÙÙÙ†ÙÙŠ ÙÙÙŠ Ø¨ÙØµÙØ±ÙÙŠØŒ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø£ÙÙ†Ù’ØªÙ. Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¥ÙÙ†Ù‘ÙÙŠ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù Ø§Ù„Ù’ÙƒÙÙÙ’Ø±ÙØŒ ÙˆÙØ§Ù„Ù’ÙÙÙ‚Ù’Ø±ÙØŒ ÙˆÙØ£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø¹ÙØ°ÙØ§Ø¨Ù Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ø±ÙØŒ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø£ÙÙ†Ù’ØªÙ (3 Ù…Ø±Ø§Øª)", c:3},
                {t:"ÙŠÙØ§ Ø­ÙÙŠÙ‘Ù ÙŠÙØ§ Ù‚ÙÙŠÙ‘ÙÙˆÙ…Ù Ø¨ÙØ±ÙØ­Ù’Ù…ÙØªÙÙƒÙ Ø£ÙØ³Ù’ØªÙØºÙÙŠØ«Ù Ø£ÙØµÙ’Ù„ÙØ­Ù’ Ù„ÙÙŠ Ø´ÙØ£Ù’Ù†ÙÙŠ ÙƒÙÙ„Ù‘ÙÙ‡Ù ÙˆÙÙ„Ø§Ù ØªÙÙƒÙÙ„Ù’Ù†ÙÙŠ Ø¥ÙÙ„ÙÙ‰ Ù†ÙÙÙ’Ø³ÙÙŠ Ø·ÙØ±Ù’ÙÙØ©Ù Ø¹ÙÙŠÙ’Ù†Ù", c:1},
                {t:"Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù (100 Ù…Ø±Ø©)", c:100},
                {t:"Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„Ø§Ù Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯ÙØŒ ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„Ù‘Ù Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ (100 Ù…Ø±Ø©)", c:100}
            ],
            evening: [
                {t:"Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ", c:1},
                {t:"Ø§Ù„Ù…Ø¹ÙˆØ°Ø§Øª (3 Ù…Ø±Ø§Øª)", c:3},
                {t:"Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ ÙˆÙØ£ÙÙ…Ù’Ø³ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„Ø§Ù Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„Ù‘Ù Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒØŒ Ø±ÙØ¨Ù‘Ù Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø®ÙÙŠÙ’Ø±Ù Ù…ÙØ§ ÙÙÙŠ Ù‡ÙØ°ÙÙ‡Ù Ø§Ù„Ù„Ù‘ÙÙŠÙ’Ù„ÙØ©Ù ÙˆÙØ®ÙÙŠÙ’Ø±Ù Ù…ÙØ§ Ø¨ÙØ¹Ù’Ø¯ÙÙ‡ÙØ§ØŒ ÙˆÙØ£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø´ÙØ±Ù‘Ù Ù…ÙØ§ ÙÙÙŠ Ù‡ÙØ°ÙÙ‡Ù Ø§Ù„Ù„Ù‘ÙÙŠÙ’Ù„ÙØ©Ù ÙˆÙØ´ÙØ±Ù‘Ù Ù…ÙØ§ Ø¨ÙØ¹Ù’Ø¯ÙÙ‡ÙØ§ØŒ Ø±ÙØ¨Ù‘Ù Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù Ø§Ù„Ù’ÙƒÙØ³ÙÙ„Ù ÙˆÙØ³ÙÙˆØ¡Ù Ø§Ù„Ù’ÙƒÙØ¨ÙØ±ÙØŒ Ø±ÙØ¨Ù‘Ù Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø¹ÙØ°ÙØ§Ø¨Ù ÙÙÙŠ Ø§Ù„Ù†Ù‘ÙØ§Ø±Ù ÙˆÙØ¹ÙØ°ÙØ§Ø¨Ù ÙÙÙŠ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ø±Ù", c:1},
                {t:"Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¨ÙÙƒÙ Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙØ­Ù’ÙŠÙØ§ØŒ ÙˆÙØ¨ÙÙƒÙ Ù†ÙÙ…ÙÙˆØªÙ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’ÙƒÙ Ø§Ù„Ù’Ù…ÙØµÙÙŠØ±Ù", c:1},
                {t:"(Ø³ÙŠØ¯ Ø§Ù„Ø§Ø³ØªØºÙØ§Ø±) Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø£ÙÙ†Ù’ØªÙ Ø±ÙØ¨Ù‘ÙÙŠ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø£ÙÙ†Ù’ØªÙØŒ Ø®ÙÙ„ÙÙ‚Ù’ØªÙÙ†ÙÙŠ ÙˆÙØ£ÙÙ†ÙØ§ Ø¹ÙØ¨Ù’Ø¯ÙÙƒÙ...", c:1},
                {t:"Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙÙ„ÙÙ…ÙØ§ØªÙ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„ØªÙ‘ÙØ§Ù…Ù‘ÙØ§ØªÙ Ù…ÙÙ†Ù’ Ø´ÙØ±Ù‘Ù Ù…ÙØ§ Ø®ÙÙ„ÙÙ‚Ù (3 Ù…Ø±Ø§Øª)", c:3},
                {t:"Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ù‘ÙØ°ÙÙŠ Ù„Ø§Ù ÙŠÙØ¶ÙØ±Ù‘Ù Ù…ÙØ¹Ù Ø§Ø³Ù’Ù…ÙÙ‡Ù Ø´ÙÙŠÙ’Ø¡ÙŒ ÙÙÙŠ Ø§Ù„Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ„Ø§Ù ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§Ø¡Ù ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ø³Ù‘ÙÙ…ÙÙŠØ¹Ù Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙ…Ù (3 Ù…Ø±Ø§Øª)", c:3},
                {t:"Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù (100 Ù…Ø±Ø©)", c:100}
            ],
            sleep: [
                {t:"ÙŠØ¬Ù…Ø¹ ÙƒÙÙŠÙ‡ Ø«Ù… ÙŠÙ†ÙØ« ÙÙŠÙ‡Ù…Ø§ ÙˆÙŠÙ‚Ø±Ø£: Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø£ÙØ­ÙØ¯ÙŒØŒ ÙˆÙÙ‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨Ù‘Ù Ø§Ù„Ù’ÙÙÙ„ÙÙ‚ÙØŒ ÙˆÙÙ‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨Ù‘Ù Ø§Ù„Ù†Ù‘ÙØ§Ø³ÙØŒ Ø«Ù… ÙŠÙ…Ø³Ø­ Ø¨Ù‡Ù…Ø§ Ù…Ø§ Ø§Ø³ØªØ·Ø§Ø¹ Ù…Ù† Ø¬Ø³Ø¯Ù‡ØŒ ÙŠØ¨Ø¯Ø£ Ø¨Ù‡Ù…Ø§ Ø¹Ù„Ù‰ Ø±Ø£Ø³Ù‡ ÙˆÙˆØ¬Ù‡Ù‡ ÙˆÙ…Ø§ Ø£Ù‚Ø¨Ù„ Ù…Ù† Ø¬Ø³Ø¯Ù‡ (ÙŠÙØ¹Ù„ Ø°Ù„Ùƒ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª)", c:3},
                {t:"Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ: (Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ø§Ù‘Ù Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙ‘Ù Ø§Ù„Ù’Ù‚ÙÙŠÙ‘ÙÙˆÙ…Ù...)", c:1},
                {t:"Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙ Ø±ÙØ¨Ù‘ÙÙŠ ÙˆÙØ¶ÙØ¹Ù’ØªÙ Ø¬ÙÙ†Ù’Ø¨ÙÙŠØŒ ÙˆÙØ¨ÙÙƒÙ Ø£ÙØ±Ù’ÙÙØ¹ÙÙ‡ÙØŒ ÙÙØ¥ÙÙ†Ù’ Ø£ÙÙ…Ù’Ø³ÙÙƒÙ’ØªÙ Ù†ÙÙÙ’Ø³ÙÙŠ ÙÙØ§Ø±Ù’Ø­ÙÙ…Ù’Ù‡ÙØ§ØŒ ÙˆÙØ¥ÙÙ†Ù’ Ø£ÙØ±Ù’Ø³ÙÙ„Ù’ØªÙÙ‡ÙØ§ ÙÙØ§Ø­Ù’ÙÙØ¸Ù’Ù‡ÙØ§ØŒ Ø¨ÙÙ…ÙØ§ ØªÙØ­Ù’ÙÙØ¸Ù Ø¨ÙÙ‡Ù Ø¹ÙØ¨ÙØ§Ø¯ÙÙƒÙ Ø§Ù„ØµÙ‘ÙØ§Ù„ÙØ­ÙÙŠÙ†Ù", c:1},
                {t:"Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¥ÙÙ†Ù‘ÙÙƒÙ Ø®ÙÙ„ÙÙ‚Ù’ØªÙ Ù†ÙÙÙ’Ø³ÙÙŠ ÙˆÙØ£ÙÙ†Ù’ØªÙ ØªÙÙˆÙÙÙ‘ÙØ§Ù‡ÙØ§ØŒ Ù„ÙÙƒÙ Ù…ÙÙ…ÙØ§ØªÙÙ‡ÙØ§ ÙˆÙÙ…ÙØ­Ù’ÙŠÙØ§Ù‡ÙØ§ØŒ Ø¥ÙÙ†Ù’ Ø£ÙØ­Ù’ÙŠÙÙŠÙ’ØªÙÙ‡ÙØ§ ÙÙØ§Ø­Ù’ÙÙØ¸Ù’Ù‡ÙØ§ØŒ ÙˆÙØ¥ÙÙ†Ù’ Ø£ÙÙ…ÙØªÙ‘ÙÙ‡ÙØ§ ÙÙØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙ‡ÙØ§. Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¥ÙÙ†Ù‘ÙÙŠ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø§Ù„Ù’Ø¹ÙØ§ÙÙÙŠÙØ©Ù", c:1},
                {t:"Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù (33)ØŒ Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù (33)ØŒ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù (34)", c:1},
                {t:"Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ", c:1}
            ]
        };

        function renderAdhkar(type) {
            const c = document.getElementById('adhkarContainer'); c.innerHTML = "";
            adhkarDB[type].forEach((item, i) => {
                const div = document.createElement('div'); div.className = "dhikr-card";
                div.innerHTML = `<div class="dhikr-text">${item.t}</div><div class="dhikr-footer"><span>Ø§Ø¶ØºØ· Ù„Ù„Ø¹Ø¯</span><div class="count-badge" id="d-cnt-${i}">${item.c}</div></div>`;
                let count = item.c;
                div.onclick = () => { if(count>0){ count--; div.querySelector(`#d-cnt-${i}`).innerText = count; if(count===0) div.classList.add('done'); }};
                c.appendChild(div);
            });
        }

        // --- OTHER ---
        function addKB() { let v=document.getElementById('kb_in').value; if(v){ data.kanban.todo.push(v); document.getElementById('kb_in').value=""; save(); renderKanban(); }}
        function renderKanban() {
            ['todo','doing','done'].forEach(k => {
                const d = document.getElementById(`kb_${k}`); d.innerHTML="";
                data.kanban[k].forEach((t, i) => {
                    d.innerHTML += `<div style="background:rgba(255,255,255,0.1); padding:8px; margin-bottom:5px; border-radius:5px; display:flex; justify-content:space-between;"><span onclick="moveKB('${k}',${i})" style="cursor:pointer; flex:1">${t}</span><i class="fas fa-times" style="color:var(--danger); cursor:pointer" onclick="delKB('${k}',${i})"></i></div>`;
                });
            });
        }
        function moveKB(f, i) { let t=f==='todo'?'doing':(f==='doing'?'done':null); if(t){data.kanban[t].push(data.kanban[f].splice(i,1)[0]); save(); renderKanban();} }
        function delKB(k,i) { data.kanban[k].splice(i,1); save(); renderKanban(); }
        function renderSalah() {
            const c=document.getElementById('salahContainer'); c.innerHTML="";
            const names={fajr:"Ø§Ù„ÙØ¬Ø±",dhuhr:"Ø§Ù„Ø¸Ù‡Ø±",asr:"Ø§Ù„Ø¹ØµØ±",maghrib:"Ø§Ù„Ù…ØºØ±Ø¨",isha:"Ø§Ù„Ø¹Ø´Ø§Ø¡"};
            for(let k in names){
                const d=document.createElement('div'); d.style=`display:flex; justify-content:space-between; padding:10px; background:${data.salah[k]?'var(--success)':'rgba(255,255,255,0.05)'}; margin-bottom:5px; border-radius:5px; cursor:pointer;`;
                d.innerHTML=`<span>${names[k]}</span><span>${data.salah[k]?'âœ…':'â­•'}</span>`;
                d.onclick=()=>{data.salah[k]=!data.salah[k]; save(); renderSalah();}; c.appendChild(d);
            }
        }
    </script>
</body>
</html>